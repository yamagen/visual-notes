# src - Visual Notes Index Generator

This directory contains the C source code and build instructions for generating the `index.md` file from a JSON metadata file.

## Overview

The program `generate_index_md.c` reads `json/index.json` and creates a markdown file (`index.md`) that includes links and image previews (via `<img src="...">` tags) for each visual note entry.

The expected directory structure is as follows:

```
project-root/
├── images/ # PNG, SVG, PDF image files
├── json/
│ └── index.json # JSON metadata for index entries
├─── index.md # Output file generated by this program
├─── src/
├── generate_index_md.c
├── Makefile
└── README.md # ← this file
```


## Prerequisites

You must have [`jansson`](https://digip.org/jansson/) installed for JSON parsing:

```sh
sudo pacman -S jansson     # for Arch/Manjaro
sudo apt install libjansson-dev  # for Debian/Ubuntu
```

## Build

To compile the program, simply run:

```sh
make
```sh

Or, manually:

```sh
% gcc generate_index_md.c -o gen_index_md -ljansson
```

## Run

Execute the program from the project root:

```sh
% ./src/gen_index_md ../json/index.json ../index.md
```

This will regenerate index.md with image links based on the JSON entries.
Notes

- Only .png images are embedded using <img src="images/filename.png">.
- Other image types (e.g., .svg, .pdf) are listed as links.
- JSON entries must have id, title, and optionally caption.

## License

This project includes two types of content licensed under different terms:

- **Source Code (e.g., generate_index_md.c)**: Licensed under the MIT License. See [LICENSE.txt](./LICENSE.txt) for details. This includes use of the [Jansson](https://digip.org/jansson/) library, also licensed under the MIT License.
- **Visual Content (e.g., images, index.md)**: Licensed under [Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)](https://creativecommons.org/licenses/by-sa/4.0/).

Please ensure compliance with both licenses when using or redistributing this repository.
